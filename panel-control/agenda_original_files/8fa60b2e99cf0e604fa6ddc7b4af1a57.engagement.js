try{"use strict";(()=>{var M=function(){function n(){}return n.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:G(),platform:"Web",os:void 0,deviceModel:void 0}},n}(),G=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Z=function(){function n(){this.queue=[]}return n.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},n.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},n}(),w=function(){return w=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},w.apply(this,arguments)};function b(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],g;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(f){g={error:f}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(g)throw g.error}}return s}var A=function(n,e){var t,r,i=["string","number","boolean","undefined"],s=typeof n,g=typeof e;if(s!==g)return!1;try{for(var f=b(i),p=f.next();!p.done;p=f.next()){var m=p.value;if(m===s)return n===e}}catch(c){t={error:c}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}if(n==null&&e==null)return!0;if(n==null||e==null||n.length!==e.length)return!1;var v=Array.isArray(n),l=Array.isArray(e);if(v!==l)return!1;if(v&&l){for(var a=0;a<n.length;a++)if(!A(n[a],e[a]))return!1}else{var o=Object.keys(n).sort(),u=Object.keys(e).sort();if(!A(o,u))return!1;var d=!0;return Object.keys(n).forEach(function(c){A(n[c],e[c])||(d=!1)}),d}return!0},$="$set",z="$unset",F="$clearAll";Object.entries||(Object.entries=function(n){for(var e=Object.keys(n),t=e.length,r=new Array(t);t--;)r[t]=[e[t],n[e[t]]];return r});var H=function(){function n(){this.identity={userProperties:{}},this.listeners=new Set}return n.prototype.editIdentity=function(){var e=this,t=w({},this.identity.userProperties),r=w(w({},this.identity),{userProperties:t});return{setUserId:function(i){return r.userId=i,this},setDeviceId:function(i){return r.deviceId=i,this},setUserProperties:function(i){return r.userProperties=i,this},setOptOut:function(i){return r.optOut=i,this},updateUserProperties:function(i){var s,g,f,p,m,v,l=r.userProperties||{};try{for(var a=b(Object.entries(i)),o=a.next();!o.done;o=a.next()){var u=L(o.value,2),d=u[0],c=u[1];switch(d){case $:try{for(var y=(f=void 0,b(Object.entries(c))),h=y.next();!h.done;h=y.next()){var E=L(h.value,2),D=E[0],R=E[1];l[D]=R}}catch(P){f={error:P}}finally{try{h&&!h.done&&(p=y.return)&&p.call(y)}finally{if(f)throw f.error}}break;case z:try{for(var _=(m=void 0,b(Object.keys(c))),I=_.next();!I.done;I=_.next()){var D=I.value;delete l[D]}}catch(P){m={error:P}}finally{try{I&&!I.done&&(v=_.return)&&v.call(_)}finally{if(m)throw m.error}}break;case F:l={};break}}}catch(P){s={error:P}}finally{try{o&&!o.done&&(g=a.return)&&g.call(a)}finally{if(s)throw s.error}}return r.userProperties=l,this},commit:function(){return e.setIdentity(r),this}}},n.prototype.getIdentity=function(){return w({},this.identity)},n.prototype.setIdentity=function(e){var t=w({},this.identity);this.identity=w({},e),A(t,this.identity)||this.listeners.forEach(function(r){r(e)})},n.prototype.addIdentityListener=function(e){this.listeners.add(e)},n.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},n}(),S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:self,C=function(){function n(){this.identityStore=new H,this.eventBridge=new Z,this.applicationContextProvider=new M}return n.getInstance=function(e){return S.analyticsConnectorInstances||(S.analyticsConnectorInstances={}),S.analyticsConnectorInstances[e]||(S.analyticsConnectorInstances[e]=new n),S.analyticsConnectorInstances[e]},n}();var V=["boot"];var Y="$default_instance";function x(n){var i,s,g,f,p,m,v;let e=window.engagement,t={_q:(i=e==null?void 0:e._q)!=null?i:[],_configuration:{apiKey:(g=(s=e==null?void 0:e._configuration)==null?void 0:s.apiKey)!=null?g:"",serverUrl:(f=e==null?void 0:e._configuration)==null?void 0:f.serverUrl,serverZone:(m=(p=e==null?void 0:e._configuration)==null?void 0:p.serverZone)!=null?m:"US",options:{...(v=e==null?void 0:e._configuration)==null?void 0:v.options}},_sentry:void 0,init(l,a){var u,d,c;if(t._configuration.apiKey){console.log("Engagement SDK has already been initialized. Ignoring additional init call.");return}t._configuration={...t._configuration,...a,apiKey:l,options:{splitting:!0,...t._configuration.options,...a==null?void 0:a.options}},(d=(u=t._configuration)==null?void 0:u.options)!=null&&d.logger&&t._configuration.options.logger.enable((c=t._configuration.options.logLevel)!=null?c:2);let o;if(a!=null&&a.cdnUrl)t._configuration.options.splitting?o=`${a.cdnUrl}/engagement-browser/prod/split/index.js`:o=a.cdnUrl+"/engagement-browser/prod/index.min.js.gz";else{let y=t._configuration.serverZone==="EU"?"https://cdn.eu.amplitude.com":"https://cdn.amplitude.com";t._configuration.options.splitting?o=`${y}/engagement-browser/prod/split/index.js`:o=`${y}/engagement-browser/prod/index.min.js.gz`}n(o,t._configuration.options.splitting?"module":void 0)},plugin(l){let a=t.init;return{name:"@amplitude/engagement-browser",type:"enrichment",async setup(o,u){var y,h;let d=(y=o.instanceName)!=null?y:Y,c=C.getInstance(d).identityStore;a(o.apiKey,{serverZone:o.serverZone,serverUrl:(h=o.serverUrl)!=null&&h.includes("amplitude.com")?void 0:o.serverUrl,...l,options:{logLevel:o.logLevel,logger:o.loggerProvider,...l==null?void 0:l.options}}),await window.engagement.boot({user:()=>{let E=c.getIdentity();return{user_id:u.getUserId(),device_id:u.getDeviceId(),user_properties:E.userProperties,getSessionId:u.getSessionId}},integrations:[{track:E=>{u.track(E)}}]}),c.addIdentityListener(E=>{window.engagement._setUserProperties(E.userProperties)})},async execute(o){return window.engagement.forwardEvent(o),o}}}},r=t;return new Proxy(t,{get:function(l,a){if(a in r)return r[a];if(a!=="then")return a==="gs"?new Proxy({},{get:function(o,u){return function(){let d=Array.from(arguments),c=`${a}.${u}`;d.unshift(c),t._q.push(d)}}}):V.includes(a)?function(){let o=Array.prototype.slice.call(arguments);return new Promise((u,d)=>{o.unshift(a,u,d),t._q.push(o)})}:function(){let o=Array.prototype.slice.call(arguments);o.unshift(a),t._q.push(o)}}})}var N=(i=>(i.Local="https://local.amplitude.com:3010/",i.Staging="https://apps.stag2.amplitude.com/",i.Production="https://app.amplitude.com/",i.ProductionEU="https://app.eu.amplitude.com/",i))(N||{}),T=n=>{if(window.opener)for(let e of Object.values(N))window.opener.postMessage({message:n},e)};function W(n,e){for(let t of n){let r=document.createElement("script");r.src=t,r.id="engagement-sdk-bundle";let i=document.querySelector("[nonce]");i&&r.setAttribute("nonce",i.nonce||i.getAttribute("nonce")),e&&r.setAttribute("type",e),document.getElementsByTagName("head")[0].appendChild(r)}}var O=()=>(T("ENGAGEMENT_SNIPPET"),x((n,e)=>W([n||"https://cdn.amplitude.com/engagement-browser/prod/index.min.js.gz"],e)));var K="US",k="",J="false",Q="false";window.engagement=O();var B=K!==""?K:void 0,q=k!==""?k:void 0,U={options:{helpCenterEnabled:Q==="true"}};q&&(U.serverUrl=q);B&&(U.serverZone=B);setTimeout(()=>{var n,e;(e=(n=window.engagement)==null?void 0:n._configuration)!=null&&e.apiKey||(J==="true"&&window.amplitude?window.amplitude.add(window.engagement.plugin(U)):window.engagement.init("8fa60b2e99cf0e604fa6ddc7b4af1a57",U))},500);})();
}catch(e){console.log(e);}